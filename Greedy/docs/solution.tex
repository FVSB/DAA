\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}

\title{Ejercicio Greedy DAA}
\author{Francisco Vicente Suárez Bellón C-412}
\date{\today}

\begin{document}

\maketitle

\section{Enunciado del Problema}

ErnKor está listo para hacer cualquier cosa por Julen, incluso nadar a través de pantanos infestados de cocodrilos. Decidimos poner a prueba este amor. ErnKor tendrá que nadar a través de un río con un ancho de 1 metro y una longitud de \(n\) metros.

El río está muy frío. Por lo tanto, en total (es decir, durante toda la natación desde 0 hasta \(n+1\)) ErnKor puede nadar en el agua no más de \(k\) metros. Por el bien de la humanidad, hemos añadido no solo cocodrilos al río, sino también troncos sobre los que puede saltar. Nuestra prueba es la siguiente:

Inicialmente, ErnKor está en la orilla izquierda y necesita llegar a la orilla derecha. Estas se encuentran a 0 y \(n+1\) metros respectivamente. El río se puede representar como \(n\) segmentos, cada uno con una longitud de 1 metro. Cada segmento contiene un tronco 'L', un cocodrilo 'C' o solo agua 'W'. ErnKor puede moverse de la siguiente manera:

\begin{itemize}
    \item Determina si ErnKor puede llegar a la orilla derecha.
    \item La primera línea de cada caso de prueba contiene tres números \(n\), \(m\), \(k\) (donde \(0 \leq k \leq 2 \cdot 10^5\), \(1 \leq n \leq 2 \cdot 10^5\), \(1 \leq m \leq 10\)) — la longitud del río, la distancia que ErnKor puede saltar y el número de metros que ErnKor puede nadar sin congelarse.
    \item La segunda línea de cada caso de prueba contiene una cadena \(a\) de longitud \(n\). \(a_i\) denota el objeto ubicado en el \(i\)-ésimo metro. (\(a_i \in \{ 'W', 'C', 'L' \}\))
\end{itemize}

\subsection{Reglas de Movimiento}
\begin{itemize}
    \item Si está en la superficie (es decir, en la orilla o en un tronco), no puede saltar hacia delante más de \(m\) metros (puede saltar a la orilla, a un tronco o al agua).
    \item Si está en el agua, solo puede nadar hasta el siguiente segmento de río (o hasta la orilla si está en el agua y el agua está a \(n\)-ésimos metros).
    \item ErnKor no puede aterrizar en un segmento con un cocodrilo de ninguna manera.
\end{itemize}

\subsection{Pregunta}
Determine si ErnKor puede llegar a la orilla derecha.

\section{Soluciones}

\subsection{Descripción del problema}

Este problema es un problema de satisfacción de restricciones donde:
\begin{itemize}
    \item La cantidad de metros que se nada en total no puede superar las $k$ en total.
    \item Nunca se puede caer en una casilla de un cocodrilo.
    \item Desde una orilla o tronco se puede saltar hasta $m$ casillas ($m \leq 10$).
    \item El objetivo es llegar a la otra orilla.
\end{itemize}

Para ello puede crearse un código de backtrack donde por cada vez que se puede saltar se analizan todos los escenarios posibles, y si en alguno se llega a la otra orilla habiendo cumplido las restricciones se puede decir que es posible.

Como optimización de esta idea puede tomarse que en cada llamado recursivo cada vez que se llamen a ver una rama del árbol con respecto a ver a que lugar saltar si la cantidad de metros que se nado es mayor o igual que el mínimo que se tenia anteriormente (el cual cumplió con las restricciones) se poda esa rama de la recursividad, dado que no es posible disminuir la cantidad de metros nadados, solo se pueden mantener o aumentar.

\subsection{Solución Greedy}

Para resolver el problema de manera greedy hay que tener en cuenta lo siguiente:
\begin{itemize}
    \item Desde la orilla o cualquier tronco trataremos de saltar al tronco más cercano:
    \begin{itemize}
        \item Esto no afecta en la solución dado que al saltar al tronco u orilla más cercano no aumenta la cantidad de metros nadados.
        \item Saltar al primer tronco u orilla no afecta a poder llegar a otro tronco anteriormente alcanzable dado que si desde el tronco u orilla anterior se podía llegar al anterior porque estaba a una distancia $\leq m$, entonces desde este la distancia será también $\leq m$.
        \item Si desde el tronco u orilla no es posible saltar a otra orilla u tronco en los $m$ metros posibles, saltar al pedazo de agua más lejano:
        \begin{itemize}
            \item Saltar al pedazo de agua más lejano hace que no se tengan que nadar más metros que si se saltara a una distancia inferior.
            \item Si hay algún cocodrilo a una distancia menor que la que se saltó, no afectará.
            \item Si existe un cocodrilo en la casilla siguiente al lugar donde se saltó, puede ser que se llegó a una menor al máximo que se podía saltar y de cualquier forma que se salte es imposible no caer en la casilla del cocodrilo si es mediante nados consecutivos análogos.
        \end{itemize}
    \end{itemize}
    \item Como a cada tronco se llega tratando de minimizar la cantidad de metros nadados, eso implica que a la otra orilla, en caso de llegar, se hará en la menor cantidad de metros nadados.
\end{itemize}

\section*{Notaciones}
\begin{itemize}
    \item Orilla izquierda: $O_{\text{izq}}$ 
    \item Orilla derecha: $O_{\text{der}}$
    \item $T_{\text{sección}}$: Son todos los cuadrantes a los que se puede saltar a la derecha desde el tronco $T$ en su rango $m$ (Si hay un tronco $T'$ en ese rango, la sección acaba en la casilla anterior de $T$) y del espacio anterior hasta $T$ que no sea de una $T_{\text{sección}}$ previa. (En cada $T_{\text{sección}}$ solo hay un tronco).
    \item Rango de $T_{\text{sección}}$: Todos los cuadrantes que se pueden saltar desde ese tronco hacia la derecha.
    \item Salto más lejano dentro del rango de la $T_{\text{sección}}$: $Max_{\text{jump}}$ sin que se salte arriba.
    \item Metros nadados en total: $s$.
    \item Metros nadados hasta el i-ésimo tronco: $s_i$.
\end{itemize}

\subsection*{Observaciones}
\begin{itemize}
    \item Si dentro del rango de la $T_{\text{sección}}$ no existe ningún tronco u orilla a la que saltar, entonces se saltará al final de la $T_{\text{sección}}$. 
        \begin{itemize}
            \item Si en el final de la $T_{\text{sección}}$ hay un cocodrilo, entonces $s = \infty$.
        \end{itemize}
    \item Si nadando el próximo segmento es un cocodrilo, entonces $s = \infty$. 
    \item En caso de no haber $T_{\text{sección}}$, la forma de conocer el mínimo de metros a nadar es calcular todos los cuadrantes hasta la orilla; si hay algún cocodrilo, el mínimo no existirá ($s = \infty$).
\end{itemize}

\subsection*{Demostración}
Demostrar que un problema donde se aplique el salto entre $T_{\text{secciones}}$, siempre que sea posible, da el mínimo de metros a nadar.

\subsubsection*{Caso base}
Para cantidad de $T_{\text{sección}} = 1$:
\begin{itemize}
    \item Se puede saltar desde $O_{\text{izq}}$ al tronco $T_1$, entonces $s_1 = 0$.
    \item Si no se puede saltar hasta la $T_{\text{sección}}$, entonces $s_1 = \text{distancia hasta } T_1$.
    \item Si $O_{\text{der}}$ está en el rango de la $T_{\text{sección}}$, entonces $s = s_1$.
    \item En caso contrario, $s = s_1 + (\text{Cantidad de metros que hay desde } Max_{\text{jump}} \text{ hasta la orilla})$, dándose cuenta que $s$ es mínimo dado que es obligatorio nadar hasta la $O_{\text{der}}$.
\end{itemize}

\subsubsection*{Hipótesis}
Supongamos que para todo mapa con cantidad de $T_{\text{sección}} = m$, se cumple que el método anterior me arroja el mínimo de metros a nadar.

\subsubsection*{Tesis}
Sea el mapa $Map$ con cantidad de $T_{\text{sección}} = m + 1$. 

Si tomamos $Map_1$ como las primeras $T_{\text{secciones}}$, y donde acaba la m-ésima sección ponemos la $O_{\text{der}_1}$, y con $Map_2$ desde donde acababa $Map_1$ hasta la $O_{\text{der}}$, por tanto como $Map_1$ y $Map_2$ tienen $\leq m$ cantidad de $T_{\text{secciones}}$, cumplen la hipótesis.

Sea:
\[
min_1 = s_{Map_1} \quad \text{y} \quad min_2 = s_{Map_2}.
\]

Demostrar que:
\[
s_{Map} = min_1 + min_2.
\]

- Si en el rango de la última sección hay un tronco, entonces se puede saltar al tronco que está en $Map_2$, por tanto no hubo que aumentar s y como se llegó de forma óptima hasta el último tronco no afectará a lo hecho en $Map_2$, por lo tanto se cumple.

- Si no hay un tronco en el rango de la última sección:
Entonces en $Map_2$, el siguiente cuadrante desde la orilla izquierda no es un tronco, por tanto se nadó hasta el tronco lo cual es obligatorio dado que no existe forma de llegar al tronco y por cómo se dividen las secciones tampoco en el mapa, entonces se cumple lo anterior.

\end{document}

